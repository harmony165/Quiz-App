{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import'./App.css';import Init from'./container/Init/Init';import Play from'./container/Play/Play';import Result from'./component/Result/Result';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.getUrl=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,res,questions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.state.token!==''){_this.getToken();}url=\"https://opentdb.com/api.php?amount=10&category=31&difficulty=easy&type=multiple\";_context.next=4;return axios.get(url);case 4:res=_context.sent;if(res.data.results){questions=res.data.results.map(function(q){var opt=q.incorrect_answers;opt.push(q.correct_answer);return{question:q.question,correctAns:q.correct_answer,options:_this.shuffle(opt)};});_this.setState({questions:questions,page:'play',spinner:false,genre:res.data.results[0].category});console.log(_this.state);}case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={page:'init',spinner:false,questions:{},level:1,passed:false,token:'',genre:''};return _this;}_createClass(App,[{key:\"shuffle\",value:function shuffle(a){return a.sort(function(){return Math.random()-0.5;});}},{key:\"start\",value:function start(){var _this2=this;this.setState({spinner:!this.state.spinner});setTimeout(function(){_this2.getUrl();},300);}},{key:\"getToken\",value:function(){var _getToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this3=this;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('https://opentdb.com/api_token.php?command=request').then(function(res){_this3.setState({token:res.data.token});console.log(res.data.token);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));function getToken(){return _getToken.apply(this,arguments);}return getToken;}()},{key:\"finished\",value:function finished(a){if(a==='pass'){this.setState({page:'result',passed:true});}else if(a==='fail'){this.setState({page:'result'});}}},{key:\"play\",value:function play(){this.getUrl();}},{key:\"render\",value:function render(){var _this4=this;var page=this.state.page==='init'?React.createElement(Init,{click:function click(a){return _this4.start(a);},spinner:this.state.spinner,genre:this.state.genre}):this.state.page==='play'?React.createElement(Play,{questions:this.state.questions,level:this.state.level,finished:function finished(a){return _this4.finished(a);}}):this.state.page==='result'?React.createElement(Result,{pass:this.state.passed,play:function play(){return _this4.play();}}):null;return React.createElement(\"div\",{className:\"App\"},React.createElement(\"div\",{className:\"container\"},page));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/kau/Desktop/GeoGo/Internship/Assignments/quiz/src/App.js"],"names":["React","Component","axios","Init","Play","Result","App","getUrl","state","token","getToken","url","get","res","data","results","questions","map","q","opt","incorrect_answers","push","correct_answer","question","correctAns","options","shuffle","setState","page","spinner","genre","category","console","log","level","passed","a","sort","Math","random","setTimeout","then","start","finished","play"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios'\nimport './App.css';\n\n\nimport Init from './container/Init/Init'\nimport Play from './container/Play/Play'\nimport Result from './component/Result/Result'\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      page: 'init',\n      spinner: false,\n      questions: {},\n      level: 1,\n      passed: false,\n      token: '',\n      genre:''\n    }\n  }\n\n \n\n  shuffle(a) {\n    return a.sort(() => Math.random() - 0.5)\n  }\n\n  start (){\n    this.setState({spinner: !this.state.spinner})\n    setTimeout(()=>{\n      this.getUrl()  \n    }, 300)\n  }\n    \n  async getToken(){\n    await axios.get('https://opentdb.com/api_token.php?command=request')\n      .then(res => {\n        this.setState({token: res.data.token});\n        console.log(res.data.token);\n      })\n  }\n\n  getUrl = async () => {\n    if(this.state.token !== ''){\n      this.getToken()\n    }\n    \n    \n    let url = \"https://opentdb.com/api.php?amount=10&category=31&difficulty=easy&type=multiple\"\n    \n    let res = await axios.get(url)\n    \n    if (res.data.results) {\n      let questions = res.data.results.map((q)=>{\n        let opt = q.incorrect_answers\n        opt.push(q.correct_answer)\n        return {\n          question: q.question,\n          correctAns: q.correct_answer,\n          options: this.shuffle(opt)\n        }\n      })\n      this.setState({\n        questions,\n        page: 'play',\n        spinner: false,\n        genre: res.data.results[0].category\n      })\n      console.log(this.state);\n    }\n  }\n\n  finished(a){\n    if(a === 'pass') {\n      this.setState({page: 'result', passed: true})\n    } else if(a === 'fail'){\n      this.setState({page: 'result'})\n    }\n  }\n\n  play(){\n    this.getUrl()\n  }\n\n  render(){\n    let page = this.state.page === 'init' ? \n                  <Init \n                    click={(a)=>this.start(a)}\n                    spinner={this.state.spinner} \n                    genre={this.state.genre}/> : \n                    \n               this.state.page === 'play' ?\n                  <Play \n                    questions={this.state.questions}\n                    level={this.state.level}\n                    finished={(a)=>this.finished(a)} /> : \n\n               this.state.page === 'result' ? \n                  <Result \n                    pass={this.state.passed}\n                    play={()=>this.play()}/> : null\n\n    return (\n      <div className=\"App\">\n        <div className=\"container\">\n          {page}\n      </div>\n    </div>\n  )}\n}\n\nexport default App;\n\n\n\n"]},"metadata":{},"sourceType":"module"}